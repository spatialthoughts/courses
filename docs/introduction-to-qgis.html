<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Ujaval Gandhi" />


<title>Introduction to QGIS (Full Course Material)</title>

<script src="site_libs/header-attrs-2.10/header-attrs.js"></script>
<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-172372432-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-172372432-3');
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Courses</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="http://spatialthoughts.com">Back to Main Site</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="#">Back to Top</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Introduction to QGIS (Full Course Material)</h1>
<h3 class="subtitle">A comprehensive introduction to mapping and spatial analysis with QGIS.</h3>
<h4 class="author">Ujaval Gandhi</h4>

</div>

<div id="TOC">
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#software">Software</a></li>
<li><a href="#get-the-data-package">Get the Data Package</a></li>
<li><a href="#creating-maps">1. Creating Maps</a>
<ul>
<li><a href="#data-pre-processing">1.1 Data Pre-Processing</a></li>
<li><a href="#challenge">Challenge</a></li>
<li><a href="#symbology">1.2 Symbology</a></li>
<li><a href="#challenge-1">Challenge</a></li>
<li><a href="#labelling">1.3 Labelling</a></li>
<li><a href="#challenge-2">Challenge</a></li>
</ul></li>
<li><a href="#visualizing-spatial-data">2. Visualizing Spatial Data</a>
<ul>
<li><a href="#data-pre-processing-1">2.1 Data Pre-Processing</a></li>
<li><a href="#challenge-3">Challenge</a></li>
<li><a href="#create-a-choropleth-map">2.2 Create a Choropleth Map</a></li>
</ul></li>
<li><a href="#georeferencing">3. Georeferencing</a>
<ul>
<li><a href="#georeference-a-scanned-map">3.1 Georeference a Scanned Map</a></li>
<li><a href="#challenge-4">Challenge</a></li>
</ul></li>
<li><a href="#digitizing">4. Digitizing</a>
<ul>
<li><a href="#digitize-historic-lakes">4.1 Digitize Historic Lakes</a></li>
</ul></li>
<li><a href="#data-credits">Data Credits</a></li>
<li><a href="#license">License</a></li>
</ul>
</div>

<div style="page-break-after: always;"></div>
<hr />
<p><img src="images/spatial_thoughts_logo.png" width="250pt" style="display: block; margin: auto;" /></p>
<hr />
<div style="page-break-after: always;"></div>
<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>This is an introductory course that covers QGIS from the very basics. You will learn how to use QGIS for mapping, spatial data processing and spatial analysis. This class is ideal for participants with a basic knowledge of GIS and want to learn how to use QGIS carry out common GIS tasks.</p>
<p><a href="https://docs.google.com/presentation/d/1Lw0NQlLQXUSW1Mf1rzy9pLb_m2wxSUHQDxF-vjPTBaU/edit?usp=sharing" target="_blank"><img src="images/introduction_to_qgis/course_overview.png" width="400" alt="View Presentation" /></a></p>
<p><a href="https://docs.google.com/presentation/d/1Lw0NQlLQXUSW1Mf1rzy9pLb_m2wxSUHQDxF-vjPTBaU/edit?usp=sharing" target="_blank">View the Presentation ↗</a></p>
</div>
<div id="software" class="section level1">
<h1>Software</h1>
<p>This course requires QGIS LTR version 3.22.</p>
<p>Please review <a href="install-qgis-ltr.html">QGIS-LTR Installation Guide</a> for step-by-step instructions.</p>
</div>
<div id="get-the-data-package" class="section level1">
<h1>Get the Data Package</h1>
<p>The code examples in this class use a variety of datasets. All the required datasets and Jupyter notebooks are supplied to you in the <code>python_dataviz.zip</code> file. Unzip this file to a directory - preferably to the <code>&lt;home folder&gt;/Downloads/introduction_to_qgis/</code> folder.</p>
<!-- *Not enrolled in our instructor-led class but want to work through the material on your own?* [Get free access to the data package](https://docs.google.com/forms/d/e/1FAIpQLSf6TGQmr5w_QlDEgZ7QJrfuiRTu-aCuhfcNY_fYCU3zv9hHOg/viewform){target="_blank"} -->
</div>
<div id="creating-maps" class="section level1">
<h1>1. Creating Maps</h1>
<p>This section is designed to help you get familiar with the basic workflow of importing data layers, applying symbology, adding labels and designing layouts for maps. We will take a text file containing historic records of earthquakes and turn it into an informative visualization like below.</p>
<p><img src="images/introduction_to_qgis/earthquake_map.png" width="75%" style="display: block; margin: auto;" /></p>
<div id="data-pre-processing" class="section level2">
<h2>1.1 Data Pre-Processing</h2>
<ol style="list-style-type: decimal">
<li>Open QGIS. The first step is to import the source datasets. Click on the <em>Open Data Source Manager</em> button.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part1_1.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="2" style="list-style-type: decimal">
<li>Select the <em>Vector</em> tab. Click the <em>…</em> button next to <em>Vector Dataset(s)</em> and browse to the data directory.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part1_2.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="3" style="list-style-type: decimal">
<li>Select the <code>ne_10m_land.shp</code> file and click <em>Open</em>. In the <em>Data Source Manager</em> window, click <em>Add</em>.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part1_3.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="4" style="list-style-type: decimal">
<li>A new layer <code>ne_10m_land</code> will be added to the <em>Layers</em> panel and will be displayed on the Canvas. This layer contains polygons representing the land areas of the world. Click on the <em>Open Data Source Manager</em> button again.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part1_4.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="5" style="list-style-type: decimal">
<li>Click the <em>…</em> button next to <em>Vector Dataset(s)</em> and browse to the data directory. Select the <code>gem_active_faults_harmonized.gpkg</code> file and click <em>Open</em> followed by <em>Add</em>.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part1_5.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="6" style="list-style-type: decimal">
<li>A new layer <code>gem_active_faults_harmonized</code> will be added to the <em>Layers</em> panel and will be displayed on the Canvas. This is a global layer containing lines representing all the active faults. We will now import another layer of earthquake points. Click on the <em>Open Data Source Manager</em> button again.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part1_6.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="7" style="list-style-type: decimal">
<li>Select the <em>Delimited Text</em> tab. Click the <em>…</em> button next to <em>File name</em> and browse to the data directory. Select the <code>significant_earthquakes_2000_2020.tsv</code> file. This is a text file in the <em>Tab-Seperated Values (TSV) format</em>. In the <em>File Format</em> section, select <strong>Custom delimiters</strong>.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part1_7.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="8" style="list-style-type: decimal">
<li>Check the <em>Tab</em> checkbox. In the <em>Geometry Definition</em> section, ensure <strong>Longitude</strong> is selected as the <em>X Field</em> and <strong>Latitude</strong> is selected as the <em>Y Field</em>. Leave other options to their default values and click <em>Add</em>.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part1_8.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="9" style="list-style-type: decimal">
<li>A new layer <code>significant_earthquakes_2000_2020</code> will be added to the <em>Layers</em> panel and will be displayed on the Canvas.This layer contains over 1000 records of significant earthquakes recorded between 2000 and 2020. Right-click on the <code>significant_earthquakes_2000_2020</code> layer and select <em>Open Attribute Table</em>. Examine all the attributes and their values.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part1_9.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="10" style="list-style-type: decimal">
<li>We will now learn about some of the tools to query and select records. From the <em>Selection Toolbar</em>, click the <em>Select Features by Value…</em> button.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part1_10.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="11" style="list-style-type: decimal">
<li>In the <em>Select Features</em> dialog, enter <strong>2020</strong> as the <em>Year</em> and click the <em>Select Features</em> button. You will see all earthquakes occurred during the year 2020 will be highlighted in yellow. You may also click the <em>Flash Features</em> button to see the selected records blink.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part1_11.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="12" style="list-style-type: decimal">
<li>Let’s refine the query a little more. Enter <strong>7</strong> as the <em>Mag</em> parameter and set the criteria to be <em>Greater than (&gt;)</em>. Click <em>Select Features</em>. You will now see only those points where the earthquake occured in 2020 and its magnitude was greater than 7. Close the window.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part1_12.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="13" style="list-style-type: decimal">
<li>Right-click on the <code>significant_earthquakes_2000_2020</code> layer and select <em>Open Attribute Table</em>. You will see that there are 6 selected features in the layer. If you wanted to examine their attributes, there is a handy shortcut. Click the <em>Move selection to top</em> button.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part1_13.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="14" style="list-style-type: decimal">
<li>All the selected rows will be displayed on the top of the attribute table - making it easy to examine the selected features. Click the <em>Deselect all features from the layer</em> button.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part1_14.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="15" style="list-style-type: decimal">
<li>For our map, we need another layer of 10 largest earthquakes - so we can style it differently than other earthquakes. For the purpose of our visualization, we will define largest earthquakes being the ones that resulted in the largest number of deaths. Locate the <em>Total Deaths</em> attribute and click twice on the column header. This will sort the features in descending order of the values in this column.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part1_15.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="16" style="list-style-type: decimal">
<li>Hold the <em>Shift</em> key and select the first 10 rows. This selection will be the 10 earthquakes with the largest fatalities.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part1_16.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="17" style="list-style-type: decimal">
<li>We will save the selected 10 features as a new layer. Right-click the <code>significant_earthquakes_2000_2020</code> layer and go to <em>Export → Save Selected Features As..</em>.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part1_17.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="18" style="list-style-type: decimal">
<li>Select <strong>GeoPackage</strong> as the <em>Format</em>. Click the <em>…</em> buton next to <em>File name</em> and browse to the data directory. Name the layer as <code>large_earthquakes.gpkg</code>. Click <em>Save</em>. Click <em>OK</em>.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part1_18.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="19" style="list-style-type: decimal">
<li>A new layer <code>large_earthquakes</code> will be added to the <em>Layers</em> panel.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part1_19.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="20" style="list-style-type: decimal">
<li>Our data preparation is now complete. Let’s save our work. Go to <em>Project → Save</em>. Browse to the data directory and enter the name as <strong>Earthquakes</strong>. Click <em>Save</em>.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part1_20.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="21" style="list-style-type: decimal">
<li>The project will be saved as a file in the QGZ format.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part1_21.png" width="75%" style="display: block; margin: auto;" /></p>
<p>We have now finish the first part of this exercise. Your output should match the contents of the <code>Earthquakes_Checkpoint1.qgz</code> file in the <code>solutions</code> folder.</p>
</div>
<div id="challenge" class="section level2">
<h2>Challenge</h2>
<p>Do you know about the <a href="https://en.wikipedia.org/wiki/Null_Island">Null Island</a>? The <code>ne_10m_land</code> contains a polygon for this feature. Locate this polygon on the map.</p>
<p>Hint: Open the attribute table, find and select the feature for Null island. Then use the <em>Zoom map to the selected rows</em> button.</p>
</div>
<div id="symbology" class="section level2">
<h2>1.2 Symbology</h2>
<p>The symbology of a layer is its visual appearance on the map. We will now learn different techniques for styling each of our layers to visually convey the information.</p>
<ol style="list-style-type: decimal">
<li>Select the <code>ne_10m_land</code> layer and click <em>Open the Layer Styling Panel</em>.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part2_1.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="2" style="list-style-type: decimal">
<li>We will style this layer with a simple grey color. Click <em>Simple Fill</em> to reveal more options. Click the dropdown next to <em>Fill color</em>.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part2_2.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="3" style="list-style-type: decimal">
<li>Use the color picker to select a light shade of grey color. The <em>Layer Styling Panel</em> is interactive, so your choice of color can be immediately previewed on the map canvas.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part2_3.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="4" style="list-style-type: decimal">
<li>Similarly, change the <em>Stroke color</em> to white.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part2_4.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="5" style="list-style-type: decimal">
<li>Next, we will style the faults layer. Select <code>gem_active_faults_harmonized</code> layer in the <em>Layers</em> panel. Click the <em>Simple Line</em> symbol to reveal more styling options. Change the <em>Color</em> to a shade of brown. Set the <em>Stroke width</em> to <strong>0.1</strong>.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part2_5.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="6" style="list-style-type: decimal">
<li>Now we will change the style of the earthquake points. Select the <code>significant_earhtquakes_2000_2020</code> layer. Click the <em>Simple Marker</em> symbol. Change the <em>Size</em> option to <strong>0.7</strong> <em>Millimeters</em>. Select red as the <em>Fill color</em> and white as the <em>Stroke color</em>. Change the <em>Stroke width</em> to <strong>0.1</strong>.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part2_6.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="7" style="list-style-type: decimal">
<li>We have now styles the three background layers. Now we will style the <code>large_earthquakes</code> layer which features the main information we want to convey through this map. We will use a <em>Proportional Circle</em> style and have the size of the circle represent the total fatalities caused by the respective earthquake. Click <em>Simple Marker</em> to see more styling options. Click the <em>Data defined override</em> button next to <em>Size</em> and choose <strong>Assistant</strong>.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part2_7.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="8" style="list-style-type: decimal">
<li>In the <em>Input</em> section, select <strong>Total Deaths</strong> as the <em>Source</em>. Set the range of <em>Values from</em> <strong>5000</strong> <em>to</em> <strong>500000</strong>. In the <em>Output</em> section, set the range of <em>Size from</em> <strong>3</strong> <em>to</em> <strong>10</strong>. This will use the attribute value in the <em>Total Deaths</em> field to set the size of the circles. Click the <em>Go Back</em> button at the top of the panel to return to the previous menu.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part2_8.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="9" style="list-style-type: decimal">
<li>Click the <em>Fill color</em> and adjust the transparency. This will help show the information under the large circles.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part2_9.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="10" style="list-style-type: decimal">
<li>Set the <em>Stroke color</em> to white.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part2_10.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="11" style="list-style-type: decimal">
<li>The circles represent the number of deaths caused by each earthquake. But the reader of our map will not know what these sizes represent. It will help interpret the map better if we had a legend. Let’s set a legend for this layer. Click the <em>Marker</em> symbol. At the bottom of the panel, select <em>Advanced → Data-defined Size Legend</em>.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part2_11.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="12" style="list-style-type: decimal">
<li>Choose the <em>Collapsed legend</em> option. Check the <em>Manual size classes</em> option. Click the <em>+</em> button to add the class definition manually.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part2_12.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="13" style="list-style-type: decimal">
<li>Set three different size classes for <strong>5000</strong>, <strong>50000</strong> and <strong>500000</strong>. You will see a legend in the <em>Layers</em> panel show the circle sizes and their related fatality value.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part2_13.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="14" style="list-style-type: decimal">
<li>Click the <em>Save Project</em> button to save your work.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part2_14.png" width="75%" style="display: block; margin: auto;" /></p>
<p>We have now finish the second part of this exercise. Your output should match the contents of the <code>Earthquakes_Checkpoint2.qgz</code> file in the <code>solutions</code> folder.</p>
</div>
<div id="challenge-1" class="section level2">
<h2>Challenge</h2>
<p>QGIS has many rich cartography features. One of my favorites is called <em>Live Layer Effects</em>. This allows you to add effects such as <em>Outer Glow</em>, <em>Drop Shadow</em> etc. to each symbol. This takes your symboloy to the next level, and helps highlight certain features. Select the <code>large_earthquakes</code> layer and open the <em>Layer Styling Panel</em>. Expand the <em>Layer Rendering</em> section and enable <em>Draw effects</em>. Click the <em>Customize effects</em> button and add a drop shadow effect to the layer.</p>
<p><img src="images/introduction_to_qgis/earthquakes_part2_challenge.png" width="75%" style="display: block; margin: auto;" /></p>
</div>
<div id="labelling" class="section level2">
<h2>1.3 Labelling</h2>
<p>Labels are a useful way to convey additional information for any features. Labels are associated with each feature and can be configured to show information from the attributes. We will now add labels to each of the large earthquake points to show the name of the location as well as the deaths caused due to that earthquake.</p>
<ol style="list-style-type: decimal">
<li>Before we proceed further, let’s change the projection of our map to a more appropriate one. The preferred and modern choice for global maps is the <a href="http://equal-earth.com/">Equal Earth</a> projection. It is much more visually appealing and also preserves relative areas of continents. Go to <em>Project → Properties…</em>.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part3_1.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="2" style="list-style-type: decimal">
<li>Switch to the <em>CRS</em> tab. Search and select the <strong>WGS84 / Equal Earth Greenwich</strong> CRS. Click <em>OK</em>.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part3_2.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="3" style="list-style-type: decimal">
<li>Back in the QGIS Window, you will notice that the shape of the map looks different now. The bottom-right corner also displayed the current project CRS <em>EPSG:8857</em>. Select the <code>large_earthquakes</code> layer and open the <em>Layer Styling Panel</em>. Switch to the <em>Labels</em> tab.</li>
</ol>
<blockquote>
<p>Note: Changing the Project CRS does not change the CRS of the layers, but reprojects them on-the-fly to the chosen CRS for display.</p>
</blockquote>
<p><img src="images/introduction_to_qgis/earthquakes_part3_3.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="4" style="list-style-type: decimal">
<li>Select <em>Single Labels</em>. We will combine the values from multiple attributes for the label using an expression. Click the <em>Expression</em> button next to <em>Value</em>.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part3_4.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="5" style="list-style-type: decimal">
<li>Locate the <strong>Location Name</strong> attribute under <em>Fields and Values</em> group. Double-click to add it to the expression. You can check the <em>Preview</em> at the bottom to see the result of the expression.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part3_5.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="6" style="list-style-type: decimal">
<li>We will create a longer label text by combining multiple attributes. You can use the <strong>||</strong> operator in QGIS expression to concatenate strings. Create the expression as shown below. Click <em>OK</em>.</li>
</ol>
<pre><code>&quot;Location Name&quot; ||  &#39;;&#39; || &#39;Deaths:&#39; || &quot;Total Deaths&quot;</code></pre>
<p><img src="images/introduction_to_qgis/earthquakes_part3_6.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="7" style="list-style-type: decimal">
<li>The labels will be rendered next to the points on the canvas. Select the <em>Formatting</em> tab. At the bottom, enter <strong>;</strong> as the value for <em>Wrap on character</em> and <strong>20</strong> characters as the value for <em>Wrap lines to</em>. This will break the labels into multiple lines and make them readable.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part3_7.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="8" style="list-style-type: decimal">
<li>Next we will change the appearance of the label text. Switch to the <em>Text</em> tab. Change the <em>Size</em> to <strong>8</strong> and set the <em>Color</em> to white.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part3_8.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="9" style="list-style-type: decimal">
<li>A useful labelling technique is to add a background to the labels to improve legibility. Switch to the <em>Background</em> tab and enable <em>Draw background</em>. Set the <em>Color</em> to black. Also set the <em>Size X</em> and <em>Size Y</em> of <em>Buffer</em> to be <strong>1</strong> point. At the bottom, set the <em>Radius X,Y</em> to <strong>5</strong>.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part3_9.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="10" style="list-style-type: decimal">
<li>To attach the labels to each of the symbols, you can use a leader line. Switch to the <em>Callouts</em> tab and check <em>Draw callouts</em>.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part3_10.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="11" style="list-style-type: decimal">
<li>As we have only a few labels, we can adjust their placement manually to fir the layout better. Close the <em>Layer Styling Panel</em>. Right-click anywhere on the <em>Toolbar</em> are and select the <em>Label Toolbar</em> to activate it.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part3_11.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="12" style="list-style-type: decimal">
<li>Once the <em>Label Toolbar</em> is activated, you will see new tools. Select the <em>Move a Label, Diagram or Callout</em> tool.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part3_12.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="13" style="list-style-type: decimal">
<li>Click on any of the label. The first time you do this, you will be prompted with a <em>Auxiliary Storage: Choose Primary Key</em> dialog. This is use to store the position of the labels for each label. You can choose any field containing unique values. In our case, the default value <strong>fid</strong> is fine. Click <em>OK</em>.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part3_13.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="14" style="list-style-type: decimal">
<li>Click on the label again to start moving it. Drag your mouse to the new label location and click again to move the label.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part3_14.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="15" style="list-style-type: decimal">
<li>Similarly, move other labels to appropriate locations. Once you are satisfied, save your work.</li>
</ol>
<p><img src="images/introduction_to_qgis/earthquakes_part3_15.png" width="75%" style="display: block; margin: auto;" /></p>
<p>We have now finish the third part of this exercise. Your output should match the contents of the <code>Earthquakes_Checkpoint3.qgz</code> file in the <code>solutions</code> folder.</p>
</div>
<div id="challenge-2" class="section level2">
<h2>Challenge</h2>
<p>The numbers displayed in the labels can be hard to read since they are not formatted. We can make them readable by adding a thousands-separator. So a number such as <em>227899</em> is displayed as <em>227,899</em> and a number like <em>5749</em> as <em>5,749</em>. Update the expression for the labels so the numbers are formatted. You can use the <code>format_number()</code> function in the QGIS expression editor to achieve this.</p>
</div>
</div>
<div id="visualizing-spatial-data" class="section level1">
<h1>2. Visualizing Spatial Data</h1>
<p>In this section, we will learn basic data processing and visualization techniques. We will use geographic boundaries and population count data for the City of New York and create a population density map.</p>
<div id="data-pre-processing-1" class="section level2">
<h2>2.1 Data Pre-Processing</h2>
<ol style="list-style-type: decimal">
<li>Open QGIS. The first step is to import the source datasets. Click on the <em>Open Data Source Manager</em> button.</li>
</ol>
<p><img src="images/introduction_to_qgis/population_part1_1.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="2" style="list-style-type: decimal">
<li>Select the <em>Vector</em> tab. Click the <em>…</em> button next to <em>Vector Dataset(s)</em> and browse to the data directory. Select the <code>nynta2010.shp</code> file and click <em>Open</em>. In the <em>Data Source Manager</em> window, click <em>Add</em>.</li>
</ol>
<p><img src="images/introduction_to_qgis/population_part1_2.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="3" style="list-style-type: decimal">
<li>You may be prompted to <em>Select Transformation for nynta2010</em>. The source shapefile is in the <code>EPSG:2263 NAD83 / New York Long Island (ftUS)</code> projection whereas the default projection in QGIS is <code>EPSG:4326 - WGS84</code>. This dialog presents several transformations to convert between the coordinates between these projections. Choose the first option and click <em>OK</em>.</li>
</ol>
<p><img src="images/introduction_to_qgis/population_part1_3.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="4" style="list-style-type: decimal">
<li>A new layer <code>nyta2010</code> will be added to the <em>Layers</em> panel and will be displayed on the Canvas. This layer contains polygons representing the <em>Neighborhood Tabulation Areas (NTAs)</em> for New York city. Right-click on the <code>nyta2010</code> layer and select <em>Open Attribute Table</em>.</li>
</ol>
<p><img src="images/introduction_to_qgis/population_part1_4.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="5" style="list-style-type: decimal">
<li>Examine the attributes of the layer. The <code>NTACode</code> field contains a unique identifier for each polygon. Notice that we do not have any population or demographic attributes in this layer.</li>
</ol>
<p><img src="images/introduction_to_qgis/population_part1_5.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="6" style="list-style-type: decimal">
<li>The population and other demographic datasets are typically distributed as tables. These tables would have the same unique identifier as the shapefile that can be used to merge the relevant fields to the vector layer. Let’s import a table representing <em>New York City Population By Neighborhood Tabulation Areas</em>. Click on the <em>Open Data Source Manager</em> button.</li>
</ol>
<p><img src="images/introduction_to_qgis/population_part1_6.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="7" style="list-style-type: decimal">
<li>Switch to the <em>Delimited Text</em> tab. Browse to the <code>New_York_City_Population_By_Neighborhood_Tabulation_Areas.csv</code> file and select it. Since this CSV file is just tabular data, select <em>No geometry (attribute only table)</em> option and click <em>Add</em>.</li>
</ol>
<p><img src="images/introduction_to_qgis/population_part1_7.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="8" style="list-style-type: decimal">
<li>Once the new tabular layer <code>New_York_City_Population_By_Neighborhood_Tabulation_Areas</code> is added to the <em>Layers</em> panel, right-click on it and select <em>Open Attribute Table</em>.</li>
</ol>
<p><img src="images/introduction_to_qgis/population_part1_8.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="9" style="list-style-type: decimal">
<li>This table has a <strong>Population</strong> column with the population for each of the tabulation areas. We also have the <strong>NTA Code</strong> column containing the same codes as our <code>nynta2020</code> layer. We can use this column to join this table with the vector layer.</li>
</ol>
<p><img src="images/introduction_to_qgis/population_part1_9.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="10" style="list-style-type: decimal">
<li>Open <strong>Processing → Toolbox</strong> from the main menu at the top.</li>
</ol>
<p><img src="images/introduction_to_qgis/population_part1_10.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="11" style="list-style-type: decimal">
<li>Search and locate the algorithm <strong>Vector general → Join attributes by field value</strong> and double-click to launch it.</li>
</ol>
<p><img src="images/introduction_to_qgis/population_part1_11.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="12" style="list-style-type: decimal">
<li>In the <em>Join Attributes by Field Value</em> dialog, select <code>nynta2010</code> as the <em>Input layer</em> and <code>NTACode</code> as the <em>Table field</em>. Select <code>New_York_City_Population_By_Neighborhood_Tabulation_Areas</code> as the <em>Input layer 2</em> and <code>NTA Code</code> as the <em>Table field 2</em>. Click the <em>…</em> button next to <em>Layer 2 fields to copy</em>.</li>
</ol>
<p><img src="images/introduction_to_qgis/population_part1_12.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="13" style="list-style-type: decimal">
<li>We want to copy only the population data, so select the <code>Population</code> field and click <em>OK</em>.</li>
</ol>
<p><img src="images/introduction_to_qgis/population_part1_13.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="14" style="list-style-type: decimal">
<li>Next, we need to configure the output. Click the <em>…</em> button next to <em>Joined layer</em> and select <em>Save to File…</em>.</li>
</ol>
<p><img src="images/introduction_to_qgis/population_part1_14.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="15" style="list-style-type: decimal">
<li>Browse to the data directory and name the output as <code>nynta_with_population</code>. Make sure the file type is selected as <em>GPKG files (*.gpkg)</em>. Click <em>Save</em>.</li>
</ol>
<p><img src="images/introduction_to_qgis/population_part1_15.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="16" style="list-style-type: decimal">
<li>Once the configuration is complete, click the <em>Run</em> button.</li>
</ol>
<p><img src="images/introduction_to_qgis/population_part1_16.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="17" style="list-style-type: decimal">
<li>Upon completion of processing, a new layer <code>nynta_with_population</code> will be added to the <em>Layers</em> panel. Right-click the layer and select <em>Open Attribute Table</em>. You will see that we now have an additional column <strong>Population</strong> in the attribute table. The table also has a column <strong>Shape_Area</strong> containing the area of each polygon in Sq.Ft.</li>
</ol>
<p><img src="images/introduction_to_qgis/population_part1_17.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="18" style="list-style-type: decimal">
<li>Our goal is to map the population density. We can use the population count and area columns and calculate a new column for population density. From the Processing Toolbox, search and locate the algorithm <strong>Vector table → Field Calculator</strong> and double-click to launch it.</li>
</ol>
<p><img src="images/introduction_to_qgis/population_part1_18.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="19" style="list-style-type: decimal">
<li>In the <em>Field Calculator</em> dialog, enter <code>Density</code> as the <em>Field Name</em>. We will now build the expression to calculate population density. From the function groups next to the <em>Expression</em> panel, expand the <em>Fields and Values</em> section. Double-click the <code>Population</code> field to add it to the expression editor. Note that fields are referred using double-quotes (") in QGIS.</li>
</ol>
<p><img src="images/introduction_to_qgis/population_part1_19.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="20" style="list-style-type: decimal">
<li>Select the <strong>/</strong> button to enter the division operator and then click the <code>Shape_Area</code> field to enter it. You may also type the expression instead of picking the values from the dialog. The final expression should look like below.</li>
</ol>
<pre><code>&quot;Population&quot; / &quot;Shape_area&quot;</code></pre>
<p><img src="images/introduction_to_qgis/population_part1_20.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="21" style="list-style-type: decimal">
<li>This will give us the population density in persons per square feet. A more appropriate unit for population density is persons per square miles. Let’s convert the value to miles using the conversion factor or <em>1 mile = 5280 ft</em>. Change the expression as shown below. Once done, select <em>Save to File</em>.</li>
</ol>
<pre><code>5280 * 5280 * (&quot;Population&quot; / &quot;Shape_area&quot;)</code></pre>
<p><img src="images/introduction_to_qgis/population_part1_21.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="22" style="list-style-type: decimal">
<li>Name the output as <code>nynta_population_density.gpkg</code> and click <em>Run</em>.</li>
</ol>
<p><img src="images/introduction_to_qgis/population_part1_22.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="23" style="list-style-type: decimal">
<li>Once the processing finishes as new layer <code>nynta_population_density</code> will be added to the <em>Layers</em> panel. Open the attribute table and verify that you have a new column named <em>Density</em>.</li>
</ol>
<p><img src="images/introduction_to_qgis/population_part1_23.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="24" style="list-style-type: decimal">
<li>We don’t need the other layers in our project. Hold the <em>Shift</em> key and select all layers except <code>nynta_population_density</code>. Right-click and select <em>Remove Layer…</em>.</li>
</ol>
<p><img src="images/introduction_to_qgis/population_part1_24.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="25" style="list-style-type: decimal">
<li>Let’s save our work so we can retrieve it later. Go to <strong>Project → Save</strong>.</li>
</ol>
<p><img src="images/introduction_to_qgis/population_part1_25.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="26" style="list-style-type: decimal">
<li>Save the project as <code>NYC_Population_Density</code> and click <em>Save</em>. QGIS will save the project file in the <em>QGZ</em> format.</li>
</ol>
<p><img src="images/introduction_to_qgis/population_part1_26.png" width="75%" style="display: block; margin: auto;" /></p>
<p>We have now finish the first part of this exercise. Your output should match the contents of the <code>NYC_Population_Density_Checkpoint1.qgz</code> file in the <code>solutions</code> folder.</p>
</div>
<div id="challenge-3" class="section level2">
<h2>Challenge</h2>
<p>Round the population density values to the nearest integer and store them in another column named <strong>Density_Round</strong>.</p>
<ul>
<li>Hint1: Use the <em>Field Calculator</em> algorithm from the processing toolbox.</li>
<li>Hint2: The QGIS expression engine has a function named <code>round()</code> that can round a fraction to the chosen number of decimal places.</li>
</ul>
</div>
<div id="create-a-choropleth-map" class="section level2">
<h2>2.2 Create a Choropleth Map</h2>
<ol style="list-style-type: decimal">
<li>Continuing the exercise, we will now visualize the spatial distribution of population density in form of a choropleth map. From the <em>Layers</em> panel, click the <em>Open the Layer Styling panel</em> button.</li>
</ol>
<p><img src="images/introduction_to_qgis/population_part2_1.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="2" style="list-style-type: decimal">
<li>Select the <code>Graduated</code> renderer.</li>
</ol>
<p><img src="images/introduction_to_qgis/population_part2_2.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="3" style="list-style-type: decimal">
<li>As we want to map the population density, choose <code>Density</code> as the <em>Value</em>.</li>
</ol>
<p><img src="images/introduction_to_qgis/population_part2_3.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="4" style="list-style-type: decimal">
<li>Next we select a color ramp. Click the drop-down button next to <em>Color Ramp</em>, select <em>All Color Ramps</em> and pick the <code>YlOrBr</code> (Yellow-Orange-Brown) ramp.</li>
</ol>
<p><img src="images/introduction_to_qgis/population_part2_4.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="5" style="list-style-type: decimal">
<li>Change the <em>Classes</em> value to <code>6</code> and click <em>Classify</em>. You will see each polygon colored according to the population density attribute.</li>
</ol>
<p><img src="images/introduction_to_qgis/population_part2_5.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="6" style="list-style-type: decimal">
<li>The default mode of classification is <em>Quantile</em> - which tried to divide the input data such that all 6 classes have approximately equal number of features. There are other modes of classification as well. You can learn more about Data Classification Modes in the <a href="https://docs.qgis.org/testing/en/docs/user_manual/working_with_vector/vector_properties.html?#graduated-renderer">QGIS Documentation</a>. We can also define custom data ranges for each class. Click on the <em>Values</em> column for the first row in the classification table. Change the *Upper value8 to <code>20000</code>.</li>
</ol>
<p><img src="images/introduction_to_qgis/population_part2_6.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="7" style="list-style-type: decimal">
<li>Similarly change other class ranges so they become easy to interpret. The last row contains the upper value to the maximum value in the dataset. Instead of displaying the maximum value, we can update the label. Click the <em>Legend</em> column for the last row.</li>
</ol>
<p><img src="images/introduction_to_qgis/population_part2_7.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="8" style="list-style-type: decimal">
<li>Change the label to <code>&gt; 100000</code>.</li>
</ol>
<p><img src="images/introduction_to_qgis/population_part2_8.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="9" style="list-style-type: decimal">
<li>Now you have an informative visualization of population density in New York city with an easy to interpret legend. Click the <em>Save</em> button to save your work. All your visualization settings are saved along with the project, so next time when you load this project in QGIS, you will see the same visualization.</li>
</ol>
<p><img src="images/introduction_to_qgis/population_part2_9.png" width="75%" style="display: block; margin: auto;" /></p>
<p>We have now finish the second part of this exercise. Your output should match the contents of the <code>NYC_Population_Density_Checkpoint2.qgz</code> file in the <code>solutions</code> folder.</p>
</div>
</div>
<div id="georeferencing" class="section level1">
<h1>3. Georeferencing</h1>
<p>Most GIS projects require Georeferencing some raster data. Georeferencing is the process of assigning real-world coordinates to each pixel of the raster. Many times these coordinates are obtained by doing field surveys - collecting coordinates with a GPS device for few easily identifiable features in the image or map. In some cases, where you are looking to digitize scanned maps with grid markings, you can obtain the coordinates from the markings on the map image itself. Using these sample coordinates or GCPs (Ground Control Points), the image is warped and made to fit within the chosen coordinate system.</p>
<div id="georeference-a-scanned-map" class="section level2">
<h2>3.1 Georeference a Scanned Map</h2>
<p>In this exercise, you will learn the process and strategies to achieve a high accuracy georeferencing in QGIS. We will take a scanned map of Bangalore in 1924. This map is possibly hand-drawn, so scale and projection information is not available. We will use the OpenStreetMap basemap to identify coordinates of features from the scanned map and rectify the map to a lign with the basemap.</p>
<ol style="list-style-type: decimal">
<li>Open QGIS. Add the OpenStreetMap basemap from <strong>Web → QuickMapServices → OSM → OpenStreetMap</strong> layer.</li>
</ol>
<p><img src="images/introduction_to_qgis/reference_img01.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="2" style="list-style-type: decimal">
<li>Go to <strong>Raster → Georeferencer…</strong></li>
</ol>
<p><img src="images/introduction_to_qgis/reference_img02.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="3" style="list-style-type: decimal">
<li>The <em>Georeferencer</em> window is divided into 2 sections. The top section where the image will be displayed and the bottom section where a table showing your GCPs will appear.</li>
</ol>
<p><img src="images/introduction_to_qgis/reference_img03.png" width="60%" style="display: block; margin: auto;" /></p>
<ol start="4" style="list-style-type: decimal">
<li>Go to <strong>File → Open Raster</strong>. Browse to the <code>Banglore_1924.png</code> and click Open.</li>
</ol>
<p><img src="images/introduction_to_qgis/reference_img04.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="5" style="list-style-type: decimal">
<li>The toposheet will be loaded on the top section. You can use the <em>Zoom/Pan</em> controls in the toolbar to learn more about the map.</li>
</ol>
<p><img src="images/introduction_to_qgis/reference_img05.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="6" style="list-style-type: decimal">
<li>To assign coordinates to reference points (ground reference points) on this map. Click the <em>Add points</em> button and click on a location that can be located in <code>Openstreetmap</code>. Select <strong>From Map Canvas</strong>.</li>
</ol>
<blockquote>
<p>Always select points from permament structures such as road intersections, junctions, big-building corners etc.. It is not advisable to georeference using the natural structure such as river edges, hill tops, etc. as they can change over time.</p>
</blockquote>
<p><img src="images/introduction_to_qgis/reference_img06.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="7" style="list-style-type: decimal">
<li>Select a minimum of 6 GCPs for georeferencing, usually a higher number of GCPs will be useful in reducing the error.</li>
</ol>
<p><img src="images/introduction_to_qgis/reference_img07.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="8" style="list-style-type: decimal">
<li>Click on <strong>Settings</strong>, <em>Transformation type</em> as <strong>Polynomial 2</strong>, <em>Resampling method</em> as <strong>Nearest neighbourhood</strong>, <em>Target SRS</em> as <em>WGS 84 / Pseudo-Mercator EPSG : 3857</em>, <em>Output layer</em> as <strong>Banglore_1924_modified.tif</strong>. Also choose <em>LZW</em> as the <em>Compression</em> type, Check <em>Save GCP Points</em> and <em>Load in QGIS</em> when done. And Click OK.</li>
</ol>
<p><img src="images/introduction_to_qgis/reference_img08.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="9" style="list-style-type: decimal">
<li>Now the GCPs now have a non-zero <em>dX, dY</em> and <em>Residual</em> error values. If a particular GCP has unusually high error values, that usually means a human-error in entering the coordinate values.</li>
</ol>
<p><img src="images/introduction_to_qgis/reference_img09.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="10" style="list-style-type: decimal">
<li>You can delete that GCP and capture it again. Repeat the process till the errors are acceptable.</li>
</ol>
<p><img src="images/introduction_to_qgis/reference_img10.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="11" style="list-style-type: decimal">
<li>Click the <em>Start Georeferencing</em> button to start georeferencing. This will start the process of warping the image using the GCPs and creating the target raster.</li>
</ol>
<p><img src="images/introduction_to_qgis/reference_img11.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="12" style="list-style-type: decimal">
<li>The georeferenced map will be loaded in main window as <code>Banglore_1924_modified</code> and can be validated with the <code>Openstreetmap</code> basemap in QGIS.</li>
</ol>
<p><img src="images/introduction_to_qgis/reference_img12.png" width="75%" style="display: block; margin: auto;" /></p>
</div>
<div id="challenge-4" class="section level2">
<h2>Challenge</h2>
<p>Change the <em>Transformation type</em> to <strong>Thin Plate Spline</strong> and run the georeferencing process again. Compare the results with the previous output.s</p>
</div>
</div>
<div id="digitizing" class="section level1">
<h1>4. Digitizing</h1>
<p>Digitizing is one of the most common tasks that a GIS Specialist has to do. Often a large amount of GIS time is spent in digitizing raster data to create vector layers that you use in your analysis. Many machine learning projects also require creating labeled dataset that needs tyo be created by digitizing features from satellite imagery or historic maps. QGIS has powerful on-screen digitizing and editing capabilities that we will explore in this tutorial.</p>
<div id="digitize-historic-lakes" class="section level2">
<h2>4.1 Digitize Historic Lakes</h2>
<p>We will take the georeferenced map created in the previous exercise and create a polygon layer representing the lakes in the city of Bengaluru in 1924. Bengaluru has experienced rapid urbanization and many of these historic lakes no longer exist. This exercise will allow you to create a vector layer and discover the lakes that are fully or partially lost.</p>
<!-- "catalog_name" IN ('EMME', 'EOS_SE_Asia', 'HimaTibetMap') -->
</div>
</div>
<div id="data-credits" class="section level1">
<h1>Data Credits</h1>
<ul>
<li>OSM Tile Layer, Bangalore Metro Stations : (c) OpenStreetMap contributors</li>
<li>Bangalore Ward Maps Provided by <a href="http://projects.datameet.org/Municipal_Spatial_Data/">Spatial Data of Municipalities (Maps) Project</a> by Data{Meet}.</li>
<li>Karnataka Population Grid 2020: Downloaded from <a href="https://www.worldpop.org/geodata/summary?id=6527">WorldPop</a> - School of Geography and Environmental Science, University of Southampton; Department of Geography and Geosciences, University of Louisville; Departement de Geographie, Universite de Namur) and Center for International Earth Science Information Network (CIESIN), Columbia University (2018). Global High Resolution Population Denominators Project - Funded by The Bill and Melinda Gates Foundation (OPP1134076). <a href="https://dx.doi.org/10.5258/SOTON/WP00645" class="uri">https://dx.doi.org/10.5258/SOTON/WP00645</a></li>
</ul>
</div>
<div id="license" class="section level1">
<h1>License</h1>
<p>This course material is licensed under a <a href="https://creativecommons.org/licenses/by-nc/4.0/">Creative Commons Attribution-NonCommercial 4.0 International License</a>. You are free to use the material for any non-commercial purpose. Kindly give appropriate credit to the original author.</p>
<p>If you would like to utilize these materials as part of a commercial offering, you can purchase a <em>Trainer License</em> for a small fee.</p>
<p>Please <a href="https://spatialthoughts.com/contact/">contact us</a> for pricing and terms. <!--
This material is part of the *Trainer's Package* and the buyer gets a non-exclusive, non-transferable, perpetual license to the material. You can fully customise and brand the materials to your requirements.
--></p>
<p>© 2022 Ujaval Gandhi <a href="https://spatialthoughts.com">www.spatialthoughts.com</a></p>
<hr />
<p><strong>This course is offered as an instructor-led online class. Visit <a href="https://spatialthoughts.com/events/">Spatial Thoughts</a> to know details of upcoming sessions.</strong></p>
</div>

<div id="disqus_thread" class="standardPadding"></div>

<!-- disqus -->
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = 'https://courses.spatialthoughts.com' + location.pathname;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://spatialthoughts.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                            



</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
